# Diary_February
## Diary 【2.14】
### Javascript中的return作用及javascript return关键字用法详解

return 语句从当前函数退出，并从那个函数返回一个值

语法：

return[()[expression][]]

可选项 expression 参数是要从函数返回的值。如果省略，则该函数不返回值

**用 return 语句来终止一个函数的执行，并返回 expression 的值**

如果 expression 被省略，或在函数内没有 return 语句被执行，则把值 undefined 赋给调用当前函数的表达式

如果函数名前有返回类型的定义，比如int,double等就必须有返回值，而如果是void型,则可以不写return,写了也无效

onClick='return add_onclick()'与 onClick='add_onclick()'的区别

而该值决定了当前操作是否继续

当返回的是**true**时，将**继续操作**

当返回是**false**时，将**中断操作**

而直接执行时（不用return）。将不会对window.event.returnvalue进行设置

所以会默认地继续执行操作

onclick事件时就相当于onclick="return true/false"

return 是javascript里函数返回值的关键字，一个函数内处理的结果可以使用return 返回，这样在调用函数的地方就可以用变量接收返回结果

## Diary 【2.15】

### Javascript中的闭包理解

#### 一、变量的作用域

要理解闭包，首先必须理解Javascript特殊的变量作用域

变量的作用域无非就是两种：**全局变量和局部变量**

Javascript语言的特殊之处:

就在于函数内部可以直接读取全局变量,在函数外部自然无法读取函数内的局部变量

注意：函数内部声明变量的时候，一定要使用var命令。如果不用的话，你实际上声明了一个**全局变量**

#### 二、如何从外部读取局部变量？

这就是Javascript语言特有的“**链式作用域**”结构（**chain scope**）

子对象会一级一级地向上寻找所有父对象的变量。所以，父对象的所有变量，对子对象都是可见的，反之则不成立

#### 三、闭包的概念

闭包就是能够读取其他函数内部变量的函数

由于在Javascript语言中，只有函数内部的子函数才能读取局部变量，因此可以把闭包简单理解成“定义在一个函数内部的函数”

所以，在本质上，闭包就是将函数内部和函数外部连接起来的一座桥梁

#### 四、闭包的用途

闭包可以用在许多地方。它的最大用处有**两**个，一个是**可以读取函数内部的变量**，另一个就是**让这些变量的值始终保持在内存中**不会在调用结束后，被垃圾回收机制（garbage collection）回收

首先在nAdd前面没有使用var关键字，因此 nAdd是一个全局变量，而不是局部变量

其次，nAdd的值是一个**匿名函数**（anonymous function），而这个匿名函数本身也是一个闭包，所以nAdd相当于是一个setter

**可以在函数外部对函数内部的局部变量进行操作**

#### 五、使用闭包的注意点

由于闭包会使得函数中的变量都被保存在内存中，内存消耗很大，所以不能滥用闭包

闭包会在父函数外部，改变父函数内部变量的值

#### 六、思考题

当内部函数在定义它的作用域的外部被引用时,就创建了该**内部函数的闭包**

如果**内部函数**引用了位于**外部函数的变量**,当外部函数调用完毕后,这些变量在内存不会被释放,因为闭包需要它们

参考网址：http://www.jb51.net/article/24101.htm

